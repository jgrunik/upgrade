import{c as g,a as d,b as f,o as v,d as C,u as E,e as D,f as S,h as U,j as k,g as i,k as m,l as h,S as V,r as u,t as c,s as I,m as p,n as $,p as y,i as B}from"../chunks/chunk-aKhIEBux.js";import{_ as R}from"../chunks/chunk-9zjs2ake.js";function z(t){const{components:e=[],children:o}=t;return g(()=>e.reduceRight((n,s)=>d(s,{children:n}),o))}const[M,H]=f(),L=C(M);function N(t){return v(async()=>{let e=localStorage.getItem("peerId");e||(e=window.crypto.randomUUID(),localStorage.setItem("peerId",e));const o=(await R(()=>import("../chunks/chunk-0Ct39pI4.js"),__vite__mapDeps([]))).default;H(new o(e))}),d(L.Provider,{value:M,get children(){return t.children}})}function O(){const t=E(L);if(t===void 0)throw new Error("usePeer must be used within a PeerContext.Provider");return t}const[w,x]=D(),A=C({room:w,setRoom:x});function j(t){return O(),v(async()=>{let e={};const n=new URLSearchParams(document.location.search).get("room");e.isHost=n===null,e.id=n??window.crypto.randomUUID();const s=(await R(()=>import("../chunks/chunk-0Ct39pI4.js"),__vite__mapDeps([]))).default;e.isHost&&(e.peer=new s(e.id)),x(e)}),S(U(()=>w.id,()=>localStorage.setItem("roomId",w.id),{defer:!0})),d(A.Provider,{value:{room:w,setRoom:x},get children(){return t.children}})}function F(){const t=E(A);if(t===void 0)throw new Error("useRoom must be used within a RoomContext.Provider");return t}const T=c("<img alt=avatar draggable=false>"),G=c('<button id=avatar_selector_button class="container border-3 border-dashed shadow shadow-small">');function J(t){const[e,o]=f(),n=g(()=>`https://api.dicebear.com/7.x/lorelei/svg?seed=${e()}`);function s(r=window.crypto.randomUUID()){localStorage.setItem("avatarSeed",r),o(r)}v(()=>{s(localStorage.getItem("avatarSeed")??void 0)});function l(){s()}return(()=>{const r=i(G);return r.$$click=l,r.style.setProperty("font-size","x-large"),r.style.setProperty("max-width","28ch"),r.style.setProperty("aspect-ratio","1"),r.style.setProperty("height","auto"),m(r,d(V,{get when(){return e()},get children(){const a=i(T);return a.style.setProperty("margin","0"),a.style.setProperty("border","0"),h(()=>I(a,"src",n())),a}})),h(()=>p(r,"disabled",t.isDisabled?t.isDisabled():!1)),u(),r})()}k(["click"]);const Y=c("<button id=enter_room_button class=btn-secondary-outline style=max-width:fit-content;font-size:xx-large;font-variant:small-caps>");function q(){const[t,e]=f(!1),{room:o}=F(),n=g(()=>`⚔ ${o!=null&&o.isHost?"Host":"Join"} Room`);function s(){return(()=>{const l=i(Y);return l.$$click=()=>{t()||(o.isHost&&history.pushState(null,"",`?room=${o.id}`),e(!0))},h(r=>{const a=t(),_=n();return a!==r._v$&&p(l,"disabled",r._v$=a),_!==r._v$2&&p(l,"innerText",r._v$2=_),r},{_v$:void 0,_v$2:void 0}),u(),l})()}return{EnterRoomButton:s,isEnteringRoom:t}}k(["click"]);const K=c('<input id=nickname_name_input type=text placeholder="nickname goes here ♥"class="container border-3 border-dashed shadow shadow-hover shadow-small"maxlength=24>');function Q(t){const[e,o]=f("");return v(()=>{o(localStorage.getItem("nickname")??"")}),(()=>{const n=i(K);return n.$$input=s=>localStorage.setItem("nickname",s.target.value),n.style.setProperty("text-align","center"),n.style.setProperty("font-size","x-large"),n.style.setProperty("max-width","28ch"),h(()=>p(n,"disabled",t.isDisabled?t.isDisabled():!1)),h(()=>p(n,"value",e())),u(),n})()}k(["input"]);const W=c("<section><!$><!/><!$><!/>");function X(){const{EnterRoomButton:t,isEnteringRoom:e}=q();return{EntryLayout:()=>[(()=>{const o=i(W),n=o.firstChild,[s,l]=$(n.nextSibling),r=s.nextSibling,[a,_]=$(r.nextSibling);return m(o,d(J,{isDisabled:e}),s,l),m(o,d(Q,{isDisabled:e}),a,_),o})(),d(t,{})],isEnteringRoom:e}}const Z=c('<footer><p xmlns:cc=http://creativecommons.org/ns# xmlns:dct=http://purl.org/dc/terms/><a rel=cc:attributionURL property=dct:title href=https://github.com/jgrunik/upgrade>Upgrade</a>&nbsp;by&nbsp;<a rel="cc:attributionURL dct:creator"property=cc:attributionName href=https://github.com/jgrunik>Joshua Grunik</a>&nbsp;is licensed under&nbsp;<a rel="license noopener noreferrer"href=http://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a><br><span style=display:inline-flex;height:2ch><img src=https://mirrors.creativecommons.org/presskit/icons/cc.svg><img src=https://mirrors.creativecommons.org/presskit/icons/by.svg><img src=https://mirrors.creativecommons.org/presskit/icons/nc.svg><img src=https://mirrors.creativecommons.org/presskit/icons/sa.svg>'),ee=()=>i(Z),te=c('<svg xmlns=http://www.w3.org/2000/svg width=1em height=1em fill=none stroke=currentColor stroke-width=0 style=overflow:visible;color:currentcolor viewBox="0 0 24 24"><path fill=currentColor fill-rule=evenodd stroke=none d="M2.25 5.25a3 3 0 0 1 3-3h13.5a3 3 0 0 1 3 3V15a3 3 0 0 1-3 3h-3v.257c0 .597.237 1.17.659 1.591l.621.622a.75.75 0 0 1-.53 1.28h-9a.75.75 0 0 1-.53-1.28l.621-.622a2.25 2.25 0 0 0 .659-1.59V18h-3a3 3 0 0 1-3-3zm1.5 0v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5"clip-rule=evenodd>'),re=(t={})=>(()=>{const e=i(te);return y(e,t,!0,!0),u(),e})(),oe=c('<svg xmlns=http://www.w3.org/2000/svg width=1em height=1em fill=currentColor stroke-width=0 style=overflow:visible;color:currentcolor viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z">'),ne=(t={})=>(()=>{const e=i(oe);return y(e,t,!0,!0),u(),e})(),se=c('<svg xmlns=http://www.w3.org/2000/svg width=1em height=1em fill=currentColor stroke-width=0 style=overflow:visible;color:currentcolor viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708">'),ae=(t={})=>(()=>{const e=i(se);return y(e,t,!0,!0),u(),e})(),ie=c('<button class="card border"style=margin-right:0;margin:0;padding:0.5rem>'),ce=["light","dark"],le=ce,b=["system",...le],de={system:re,dark:ne,light:ae};function me(){const[t,e]=f("system"),o=g(()=>de[t()]);let n,s=!1;v(()=>{n=g(()=>{let r=t();return r=="system"?P():r}),S(r=>{const a=n();a=="dark"&&r!="dark"&&document.documentElement.classList.add("dark"),a=="light"&&r!="light"&&document.documentElement.classList.remove("dark")}),e(localStorage.getItem("colorScheme")??(P()&&"system")??"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r=>{s&&(console.log(r.matches?"dark":"light"),e("system"))}),S(()=>{s=t()=="system"})});function l(){const a=(b.indexOf(t())+1)%b.length;e(b[a])}return(()=>{const r=i(ie);return r.addEventListener("click",()=>(l(),localStorage.setItem("colorScheme",t()))),m(r,o),h(()=>I(r,"popover-left",`color scheme '${t()}'`)),r})()}function P(){switch(!0){default:case window.matchMedia==null:return;case window.matchMedia("(prefers-color-scheme: dark)").matches:return"dark";case window.matchMedia("(prefers-color-scheme: light)").matches:return"light"}}const ue=c('<svg xmlns=http://www.w3.org/2000/svg width=1em height=1em fill=currentColor stroke-width=0 style=overflow:visible;color:currentcolor viewBox="0 0 16 16"><path d="M12.775 5.44C9.751 3.192 8.708 1.393 8.001 0c-.708 1.393-1.75 3.192-4.774 5.44-5.157 3.833-.303 9.182 3.965 6.238-.278 1.827-1.227 3.159-2.191 3.733v.59h6v-.59c-.964-.574-1.913-1.906-2.191-3.733 4.268 2.944 9.122-2.405 3.965-6.238">'),he=(t={})=>(()=>{const e=i(ue);return y(e,t,!0,!0),u(),e})(),ge=c("<header class=not-selectable><h1><!$><!/> Upgrade</h1><!$><!/>"),pe=()=>(()=>{const t=i(ge),e=t.firstChild,o=e.firstChild,[n,s]=$(o.nextSibling);n.nextSibling;const l=e.nextSibling,[r,a]=$(l.nextSibling);return m(e,he,n,s),m(t,d(me,{}),r,a),t})(),fe=c("<main>");function ve(){const{EntryLayout:t,isEnteringRoom:e}=X();return d(z,{components:[N,j],get children(){return[d(pe,{}),(()=>{const o=i(fe);return m(o,d(t,{})),o})(),d(ee,{})]}})}const _e=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),ye=[{configName:"onRenderClient",importPath:"/renderer/+onRenderClient.tsx",isValueFile:!0,exportValues:B},{configName:"Page",importPath:"/pages/index/+Page.tsx",isValueFile:!0,exportValues:_e}],be={onBeforeRenderEnv:{definedAt:{isComputed:!0},valueSerialized:"null"}};export{ye as configValuesImported,be as configValuesSerialized};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}